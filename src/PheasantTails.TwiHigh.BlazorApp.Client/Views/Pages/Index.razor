@page "/"
@*
    Entrypoint page
*@
@inherits TwiHighPageBase
@inject IIndexViewModel ViewModel

<PageTitle>@(BRAND_NAME)</PageTitle>
<THLoading />

@code
{
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        await ViewModel.CheckAuthenticationStateOnInitializedCommand.ExecuteAsync();
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);
        if (firstRender)
        {
            await ViewModel.CheckAuthenticationStateOnAfterRenderCommand.ExecuteAsync();
        }
    }
}